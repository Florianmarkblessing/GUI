<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- Include jQuery and jQuery UI -->
    <script src="//code.jquery.com/jquery-1.12.1.min.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
    <!-- Include Fancytree skin and library -->
    <link href="fancytree/skin-win8/ui.fancytree.min.css" rel="stylesheet">
    <script src="fancytree/jquery.fancytree-all.min.js"></script>
    <!-- Initialize the tree when page is loaded -->


    <style type="text/css">
        .highlight {
            background-color: #2EFE2E;
        }
        
        #dataList {
            border: 1px solid green;
            overflow: scroll;
            height: 400px;
        }
        
        .showDivs {
            width: 40%;
            float: left;
          
        }
        #tree_container{
        width: 40%;
        border: 1px solid red;
        height: 400px;
        
        }
    </style>


</head>

<body>
    <button type="button" id="startButton" class="btn"> Start </button>
<button type="button" id="stopButton" class="btn"> Stop </button>

<div id="anzeigebereich">
<div id="tree_container">

    <div id="tree" data-source="ajax" class="showDivs"></div>
           
</div>
 <div id="dataList" class="showDivs">  </div>
</div>
    <script type="text/javascript">
       function starteTree(){
                            
            var min = 1;
          	var max = 3;
          	
          	var random = Math.floor(Math.random() * (max - min + 1)) + min;
            $("#tree").fancytree({
            
                checkbox: false,
                source: {
                    url: "exp/test"+random+".json",
                    cache: false
                }
            })
            }
      
        function starteNewTree(){
            $("#tree").remove();
            $("#tree_container").append('<div id="tree" data-source="ajax" class="showDivs"></div>');
            starteTree();
        }
        function fillList(){
    
        var linkArray = document.getElementsByClassName("highlight");
     
           for(var i = 0; i < linkArray.length; i++ ){


               var link = linkArray[i];
               var linkName =   linkArray[i].innerHTML; 
               document.getElementById("dataList").innerHTML = document.getElementById("dataList").innerHTML + "<a  href="+ link +" target='_blank'> "+ linkName +" </a><br>";

           }
        }
        var myInterval;
        var myInterval2;
        function starteAnwendung(){
           // fillList();
            myInterval = setInterval(fillList, 3000);
            myInterval2 = setInterval(starteNewTree, 3000);
        }
        
function stoppeAnwendung() {
  
    
    clearInterval(myInterval);
    clearInterval(myInterval2);
}
            function init(){
                   
                    window.document.getElementById("startButton").onclick = function () {
                        starteAnwendung();
                    }
                window.document.getElementById("stopButton").onclick = function () {
                        stoppeAnwendung();
                    }
            }
        window.onload = init;
    </script>
</body>

</html>